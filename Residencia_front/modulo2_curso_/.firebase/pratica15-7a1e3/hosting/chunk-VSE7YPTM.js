import{a as re,b as g}from"./chunk-FQ5Z32C4.js";import"./chunk-BJ6UHTC5.js";import{b as G,d as K,e as Q,f as V,g as Y,h as Z,i as ee,j as te,k as ie,l as oe,m as ae,o as se}from"./chunk-EBXKZ3ZL.js";import{b as k}from"./chunk-H3KFRSHM.js";import{b as X,d as q,e as _,f as z}from"./chunk-UT2CUAHE.js";import{Aa as M,Ba as D,Da as w,E as x,Ea as I,Eb as A,Fa as F,Hb as N,Ia as b,R as s,S as m,Tb as B,Ub as H,Wb as R,_a as E,ac as $,b as C,ca as h,ea as r,ec as P,fb as O,ic as L,ja as p,ka as n,kb as j,la as f,lc as U,mc as W,r as T,ra as c,vc as J,w as v,x as y,za as u}from"./chunk-YJVQKGLP.js";import"./chunk-CQCHLVVT.js";function he(t,e){if(t&1&&(p(0,"th",12)(1,"div",8)(2,"div",8),u(3),n(),p(4,"div",8),f(5,"p-sortIcon",13)(6,"p-columnFilter",10),n()()()),t&2){let l=e.$implicit;s(3),D(" ",l," "),s(3),r("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function fe(t,e){if(t&1&&(p(0,"tr")(1,"th",7)(2,"div",8)(3,"div",8),u(4," Brinco "),n(),p(5,"div",8),f(6,"p-sortIcon",9)(7,"p-columnFilter",10),n()()(),h(8,he,7,4,"th",11),n()),t&2){let l=c();s(7),r("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),s(),r("ngForOf",l.atividades_sessao)}}function ue(t,e){if(t&1&&(p(0,"td"),u(1),n()),t&2){let l=e.$implicit,o=c().$implicit,i=c().$implicit,a=c();s(),D(" ",i.atividade.includes(l)&&a.Detalhes_animal.includes(o)?"X":"N\xE3o aplicada"," ")}}function Se(t,e){if(t&1&&(p(0,"tr")(1,"td"),u(2),n(),h(3,ue,2,1,"td",14),n()),t&2){let l=e.$implicit,o=c(2);s(2),M(l),s(),r("ngForOf",o.atividades_sessao)}}function ve(t,e){if(t&1&&h(0,Se,4,2,"tr",14),t&2){let l=c();r("ngForOf",l.brinco_animais)}}var _e=()=>["animais","descricao"],ge=()=>({"min-width":"75rem"}),le=(()=>{let e=class e{constructor(o){this.sessaoDtService=o,this.Detalhes=[],this.Detalhes_animal=[],this.atividades_sessao=R.vacinas,this.brinco_animais=[]}ngOnInit(){this.brinco_animais=this.sessaoDtService.listBrinco}};e.\u0275fac=function(i){return new(i||e)(m(g))},e.\u0275cmp=v({type:e,selectors:[["app-detalhes-sessao-table"]],inputs:{Detalhes:"Detalhes",Detalhes_animal:"Detalhes_animal"},decls:7,vars:11,consts:[[1,"grid"],[1,"col-12"],["header","Detalhe da Sessao da Data","styleClass","shadow-3 m-5 text-indigo-800"],["data","id",3,"rows","value","paginator","responsive","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["DetalhesTable",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","brinco"],[1,"flex","justify-content-between","align-items-center"],["field","brinco"],["type","text","field","brinco","display","menu","matchMode","contains",3,"showMatchModes","showOperator","showAddButton"],["pSortableColumn","atividade",4,"ngFor","ngForOf"],["pSortableColumn","atividade"],["field","atividade"],[4,"ngFor","ngForOf"]],template:function(i,a){i&1&&(p(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"p-table",3,4),F("selectionChange",function(d){return I(a.SessaoSelected,d)||(a.SessaoSelected=d),d}),h(5,fe,9,4,"ng-template",5)(6,ve,1,1,"ng-template",6),n()()()()),i&2&&(s(3),r("rows",10)("value",a.Detalhes)("paginator",!0)("responsive",!0)("globalFilterFields",b(9,_e))("tableStyle",b(10,ge)),w("selection",a.SessaoSelected),r("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[E,U,L,V,Y,Z,ee]});let t=e;return t})();var me=(()=>{let e=class e{constructor(o,i,a,S,d){this.messageService=o,this.sessaoService=i,this.dialogService=a,this.sessaoDataTransferService=S,this.router=d,this.destroy$=new C,this.sessaoList=[],this.DetalheSessao=[],this.DetalheSessao_=[]}ngOnInit(){this.getServiceDetalhesData(this.sessaoDataTransferService.id_sessao)}getServiceDetalhesData(o){let i=this.sessaoDataTransferService.getSessaoDatas();if(i.length>0){for(let a of i)if(a.id===o){this.DetalheSessao.push(a);for(let S of a.animais)this.DetalheSessao_.push(Number(S))}}else this.getAPISessao()}getAPISessao(){this.sessaoService.getAllSessao().pipe(T(this.destroy$)).subscribe({next:o=>{if(o.length>0){for(let i of o)if(i.id===this.sessaoDataTransferService.id_sessao){this.DetalheSessao.push(i);for(let a of i.animais)this.DetalheSessao_.push(Number(a));return}console.log("Sess\xE3o n\xE3o encontrada.")}},error:o=>{console.log(o),this.router.navigate(["/dashboard"]),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao buscar as sess\xF5es",life:2500})}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(m(P),m(re),m(_),m(g),m(A))},e.\u0275cmp=v({type:e,selectors:[["app-detalhes-sessao-home"]],decls:2,vars:2,consts:[[3,"Detalhes_animal","Detalhes"]],template:function(i,a){i&1&&f(0,"app-toolbar-navigation")(1,"app-detalhes-sessao-table",0),i&2&&(s(),r("Detalhes_animal",a.DetalheSessao_)("Detalhes",a.DetalheSessao))},dependencies:[X,le]});let t=e;return t})();var pe=[{path:"",component:me}];var it=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=y({type:e}),e.\u0275inj=x({providers:[_,$],imports:[O,B,H,N.forChild(pe),z,j,W,J,te,ie,oe,k,ae,Q,q,K,se,G]});let t=e;return t})();export{it as DetalhesSessaoModule};
