import{a as S}from"./chunk-BJ6UHTC5.js";import{D as n,J as a,Vb as m,Xb as d,c as f,ib as u,j as o,m as h}from"./chunk-YJVQKGLP.js";import{a as p,b as l}from"./chunk-CQCHLVVT.js";var v=(()=>{let i=class i{constructor(t,s){this.http=t,this.cookieService=s,this.API_URL=m.fireDatabase}getAllSessao(){let t=this.cookieService.get("USER_INFO");return this.http.get(this.API_URL+"sessao.json",{headers:{Authorization:`Bearer ${t}`}}).pipe(o(s=>{let r=[];for(let c in s)s.hasOwnProperty(c)&&r.push(l(p({},s[c]),{id:c}));return r}))}deleteSessao(t){return this.http.delete(this.API_URL+`sessao/${t}.json`)}addSessao(t){return this.http.post(this.API_URL+"sessao.json",t)}editSessao(t){return this.http.put(this.API_URL+"sessao.json",t)}};i.\u0275fac=function(s){return new(s||i)(a(u),a(d))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var E=(()=>{let i=class i{constructor(t){this.suinosService=t,this.sessaoDataEmitter$=new f(null),this.sessaoDatas=[],this.listBrinco=[],this.id_sessao=""}setSessaoData(t){t&&(this.sessaoDataEmitter$.next(t),this.getSessaoDatas())}getSessaoDatas(){return this.sessaoDataEmitter$.pipe(h(1),o(t=>t?.filter(s=>s.animais.length>0))).subscribe({next:t=>{t&&(this.sessaoDatas=t)},error:t=>{console.log(t)}}),this.sessaoDatas}getSessaoDatasId(t){return this.sessaoDataEmitter$.pipe(h(1),o(s=>s?.filter(r=>r))).subscribe({next:s=>{console.log("id sessao data---",s),s&&(this.sessaoDatas=s,console.log("id sessao data---2",this.sessaoDatas))},error:s=>{console.log(s)}}),this.sessaoDatas}setIdSessao(t){this.id_sessao=t}setListabrinco(){this.listBrinco=[],this.suinosService.getAllSuinos().pipe().subscribe({next:t=>{for(let s of t)this.listBrinco.push(s.brinco)}})}};i.\u0275fac=function(s){return new(s||i)(a(S))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();export{v as a,E as b};
